(()=>{var C=Object.create;var f=Object.defineProperty;var T=Object.getOwnPropertyDescriptor;var w=Object.getOwnPropertyNames;var M=Object.getPrototypeOf,b=Object.prototype.hasOwnProperty;var E=e=>f(e,"__esModule",{value:!0});var I=(e,i)=>()=>(i||e((i={exports:{}}).exports,i),i.exports);var S=(e,i,r,s)=>{if(i&&typeof i=="object"||typeof i=="function")for(let t of w(i))!b.call(e,t)&&(r||t!=="default")&&f(e,t,{get:()=>i[t],enumerable:!(s=T(i,t))||s.enumerable});return e},R=(e,i)=>S(E(f(e!=null?C(M(e)):{},"default",!i&&e&&e.__esModule?{get:()=>e.default,enumerable:!0}:{value:e,enumerable:!0})),e);var v=I((m,d)=>{(function(e,i){typeof m=="object"&&typeof d!="undefined"?d.exports=i():typeof define=="function"&&define.amd?define(i):e.MagicGrid=i()})(m,function(){"use strict";var e=function(t){if(!t)throw new Error("No config object has been provided.");typeof t.useTransform!="boolean"&&(t.useTransform=!0),typeof t.gutter!="number"&&(t.gutter=25),t.container||i("container"),t.items||t.static||i("items or static")},i=function(t){throw new Error("Missing property '"+t+"' in MagicGrid config")},r=function(t){var n=t[0];for(var o of t)o.height<n.height&&(n=o);return n},s=function(t){e(t),t.container instanceof HTMLElement?(this.container=t.container,this.containerClass=t.container.className):(this.containerClass=t.container,this.container=document.querySelector(t.container)),this.items=this.container.children,this.static=t.static||!1,this.size=t.items,this.gutter=t.gutter,this.maxColumns=t.maxColumns||!1,this.useMin=t.useMin||!1,this.useTransform=t.useTransform,this.animate=t.animate||!1,this.started=!1,this.init()};return s.prototype.init=function(){if(this.ready()&&!this.started){this.container.style.position="relative";for(var t=0;t<this.items.length;t++){var n=this.items[t].style;n.position="absolute",this.animate&&(n.transition=(this.useTransform?"transform":"top, left")+" 0.2s ease")}this.started=!0}},s.prototype.colWidth=function(){return this.items[0].getBoundingClientRect().width+this.gutter},s.prototype.setup=function(){var t=this.container.getBoundingClientRect().width,n=this.colWidth(),o=Math.floor(t/n)||1,a=[];this.maxColumns&&o>this.maxColumns&&(o=this.maxColumns);for(var h=0;h<o;h++)a[h]={height:0,index:h};return{cols:a,wSpace:t-o*n+this.gutter}},s.prototype.nextCol=function(t,n){return this.useMin?r(t):t[n%t.length]},s.prototype.positionItems=function(){var t=this.setup(),n=t.cols,o=t.wSpace,a=0,h=this.colWidth();o=Math.floor(o/2);for(var u=0;u<this.items.length;u++){var c=this.nextCol(n,u),l=this.items[u],p=c.height?this.gutter:0,g=c.index*h+o+"px",y=c.height+p+"px";this.useTransform?l.style.transform="translate("+g+", "+y+")":(l.style.top=y,l.style.left=g),c.height+=l.getBoundingClientRect().height+p,c.height>a&&(a=c.height)}this.container.style.height=a+"px"},s.prototype.ready=function(){return!!this.static||this.items.length>=this.size},s.prototype.getReady=function(){var t=this,n=setInterval(function(){t.container=document.querySelector(t.containerClass),t.items=t.container.children,t.ready()&&(clearInterval(n),t.init(),t.listen())},100)},s.prototype.listen=function(){var t=this;if(this.ready()){var n;window.addEventListener("resize",function(){n||(n=setTimeout(function(){t.positionItems(),n=null},200))}),this.positionItems()}else this.getReady()},s})});var x=R(v()),q=(e,i)=>{let r,s=!1,t=()=>s=!1,n=(...o)=>{if(!s)return s=!0,setTimeout(t,e),i(...o)};return(...o)=>{if(clearTimeout(r),s)r=setTimeout(n,e,...o);else return n(...o)}},F=()=>{let e=document.body.querySelector(".masonry"),i=e?.querySelectorAll("img"),r=e&&new x.default({container:e,static:!0,animate:!0}),s=q(18,()=>r?.positionItems());i?.forEach(t=>t.onload=t.onerror=s),r?.listen()};F();})();
