<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta content="width=device-width, initial-scale=1" name="viewport" />
    <meta content="CLI search and replace | Space Age seD" name="description" />
    <title>Creative Portfolio</title>
    <link href="/pages_repo.css" rel="stylesheet" />

    <script src="/layout.js" type="module"></script>
  </head>

  <body
    class="scroll-smooth grid gap-4 w-screen bg-gray-50 break-words text-secondary-800 selection:bg-tertiary-200"
  >
    <header class="grid grid-flow-col justify-between gap-x-2 px-8 pt-4">
      <button
        class="self-center cursor-pointer px-2 py-1 text-justify bg-transparent border-solid border-2 text-primary-400 border-primary-400 hover:text-secondary-100 hover:bg-primary-400 font-medium inline-block sm:hidden"
      >
        <i class="fas fa-bars"></i>
        Menu
      </button>

      <div class="prose text-right overflow-ellipsis">
        <h3 class="uppercase">
          <a class="invis-link" href="/index.html"> Creative Portfolio </a>
        </h3>
      </div>
    </header>
    <aside class="grid-flow-row grid-cols-1 gap-4 content-start px-8">
      <section class="grid justify-items-center" id="headshot">
        <img
          class="aspect-square object-cover rounded-full w-full h-full px-3 py-3"
          height="1164"
          src="/e107ea3b2f28b156c79a435e1b92e7ceab6c66669ce34fd5b2bd33172e91a23d.webp"
          srcset="
            /e107ea3b2f28b156c79a435e1b92e7ceab6c66669ce34fd5b2bd33172e91a23d--1000x1000.webp 1000w,
            /e107ea3b2f28b156c79a435e1b92e7ceab6c66669ce34fd5b2bd33172e91a23d--200x200.webp    200w,
            /e107ea3b2f28b156c79a435e1b92e7ceab6c66669ce34fd5b2bd33172e91a23d--400x400.webp    400w,
            /e107ea3b2f28b156c79a435e1b92e7ceab6c66669ce34fd5b2bd33172e91a23d--600x600.webp    600w,
            /e107ea3b2f28b156c79a435e1b92e7ceab6c66669ce34fd5b2bd33172e91a23d--800x800.webp    800w
          "
          width="1164"
        />
      </section>

      <section id="about-me">
        <div class="markdown mx-2">
          <p>I dunno? I guess im pretty good at programming, and ‚Ä¶ tetris.</p>
          <p>I also really like dogs.</p>
          <p>üê∂üêïü¶Æüê©üêï‚Äçü¶∫üêæ are really good frens.</p>
        </div>
      </section>

      <section>
        <nav>
          <ul>
            <li class="capitalize active:font-bold active:text-primary-400">
              <a class="no-underline hover:text-primary-400" href="/index.html">
                home
              </a>
            </li>
            <li class="capitalize active:font-bold active:text-primary-400">
              <a
                class="no-underline hover:text-primary-400"
                href="/about_me.html"
              >
                about
              </a>
            </li>
            <li class="capitalize active:font-bold active:text-primary-400">
              <a
                class="no-underline hover:text-primary-400"
                href="/contact_me.html"
              >
                get in touch
              </a>
            </li>
          </ul>
        </nav>
      </section>

      <section class="flex flex-wrap">
        <a
          class="border-solid border-2 border-secondary-500 rounded-full flex items-center justify-center p-4 m-4 no-underline text-center text-secondary-500 hover:text-primary-400 hover:border-primary-400"
          href="mailto:github@bigly.dog"
        >
          <i class="far fa-envelope"></i>
        </a>

        <a
          class="border-solid border-2 border-secondary-500 rounded-full flex items-center justify-center p-4 m-4 no-underline text-center text-secondary-500 hover:text-primary-400 hover:border-primary-400"
          href="https://github.com/ms-jpq"
        >
          <i class="fab fa-github"></i>
        </a>

        <a
          class="border-solid border-2 border-secondary-500 rounded-full flex items-center justify-center p-4 m-4 no-underline text-center text-secondary-500 hover:text-primary-400 hover:border-primary-400"
          href="https://stackexchange.com/users/15744711"
        >
          <i class="fab fa-stack-overflow"></i>
        </a>
      </section>
    </aside>
    <main class="justify-items-center">
      <div class="grid grid-flow-row grid-cols-1 gap-y-8">
        <section class="grid grid-flow-col justify-end items-center gap-x-4">
          <span class="github-stars">
            <i class="fas fa-star"></i>
            964
          </span>

          <span class="github-forks">
            <i class="fas fa-code-branch"></i>
            14
          </span>

          <a class="invis-link" href="https://github.com/ms-jpq/sad">
            <button
              class="self-center cursor-pointer px-2 py-1 text-justify bg-transparent border-solid border-2 text-primary-400 border-primary-400 hover:text-secondary-100 hover:bg-primary-400 border-dashed"
            >
              View on Github
              <i class="fab fa-github"></i>
            </button>
          </a>
        </section>

        <section class="self-center">
          <article class="markdown">
            <h1 id="sad"><a href="https://ms-jpq.github.io/sad">SAD!</a></h1>
            <p><strong>Space Age seD</strong></p>
            <h2 id="what-does-it-do">What does it do?</h2>
            <p>
              Basically <code>sad</code> is a
              <strong>Batch File Edit</strong> tool.
            </p>
            <p>
              It will show you a really nice diff of proposed changes
              <em>before</em> you commit them.
            </p>
            <p>
              Unlike <code>sed</code>, you can double check before you fat
              finger your edit.
            </p>
            <h2 id="preview-with-fzf">Preview (with fzf)</h2>
            <p>
              Selectively replace <code>std</code> -&gt;
              <code>joseph joestar</code> in the <code>sad</code> repo.
            </p>
            <p>You can pick and choose which changes to apply.</p>
            <p>
              You can also choose the clustering factor for changes using
              <code>--unified=&lt;n&gt;</code>. (Same as in GNU diff)
            </p>
            <p>
              <img
                alt="preview1"
                height="690"
                src="/c13915870daa401f6f1dc1de3e2dd537b33fa452eaee2120dae3c4cad2598443.webp"
                srcset="
                  /c13915870daa401f6f1dc1de3e2dd537b33fa452eaee2120dae3c4cad2598443--1000x595.webp 1000w,
                  /c13915870daa401f6f1dc1de3e2dd537b33fa452eaee2120dae3c4cad2598443--200x119.webp   200w,
                  /c13915870daa401f6f1dc1de3e2dd537b33fa452eaee2120dae3c4cad2598443--400x238.webp   400w,
                  /c13915870daa401f6f1dc1de3e2dd537b33fa452eaee2120dae3c4cad2598443--600x357.webp   600w,
                  /c13915870daa401f6f1dc1de3e2dd537b33fa452eaee2120dae3c4cad2598443--800x476.webp   800w
                "
                width="1160"
              />
            </p>
            <p>
              <strong
                >If you have <code>delta</code> installed, try
                <code>--pager &#x27;delta -s&#x27;</code> for side by side
                view</strong
              >
            </p>
            <h2 id="preview-no-fzf">Preview (no fzf)</h2>
            <p>
              Replace all<code>&#x27;&quot;(\d+)&quot;&#x27;</code> -&gt;
              <code>&#x27;üåà$1üåà&#x27;</code> in the <code>chromium</code> repo.
            </p>
            <p>
              use <code>--commit</code> or <code>-k</code> to commit changes all
              at once.
            </p>
            <p>
              <code>-c</code> is taken because <code>sad</code> has to trick
              <code>fzf</code> into thinking it‚Äôs <code>bash</code> :)
            </p>
            <p>
              <img
                alt="preview2"
                height="690"
                src="/52cfff116869d74fb995d2efd9e1f7042994039ab815f6feb55051b2854a3bd2.webp"
                srcset="
                  /52cfff116869d74fb995d2efd9e1f7042994039ab815f6feb55051b2854a3bd2--1000x595.webp 1000w,
                  /52cfff116869d74fb995d2efd9e1f7042994039ab815f6feb55051b2854a3bd2--200x119.webp   200w,
                  /52cfff116869d74fb995d2efd9e1f7042994039ab815f6feb55051b2854a3bd2--400x238.webp   400w,
                  /52cfff116869d74fb995d2efd9e1f7042994039ab815f6feb55051b2854a3bd2--600x357.webp   600w,
                  /52cfff116869d74fb995d2efd9e1f7042994039ab815f6feb55051b2854a3bd2--800x476.webp   800w
                "
                width="1160"
              />
            </p>
            <h2 id="how-to-use-sad">How to use sad?</h2>
            <p><strong>with fzf</strong></p>
            <div class="codehilite friendly">
              <pre><span ></span><code ><span class="nb">export</span> <span class="nv">GIT_PAGER</span><span class="o">=</span><span class="s1">&#x27;&lt;highlighter-of-your-choice&gt;&#x27;</span>
<span class="c1"># ^ can be done in your bash/zsh/rc file.</span>
find <span class="s2">&quot;</span><span class="nv">$FIND_ARGS</span><span class="s2">&quot;</span> <span class="p">|</span> sad <span class="s1">&#x27;&lt;pattern&gt;&#x27;</span> <span class="s1">&#x27;&lt;replacement&gt;&#x27;</span>
</code></pre>
            </div>

            <p><strong>without fzf</strong></p>
            <div class="codehilite friendly">
              <pre><span ></span><code >find <span class="s2">&quot;</span><span class="nv">$FIND_ARGS</span><span class="s2">&quot;</span> <span class="p">|</span> sad <span class="s1">&#x27;&lt;pattern&gt;&#x27;</span> <span class="s1">&#x27;&lt;replacement&gt;&#x27;</span> <span class="p">|</span> highlighter-of-your-choice
</code></pre>
            </div>

            <p>or</p>
            <div class="codehilite friendly">
              <pre><span ></span><code >find <span class="s2">&quot;</span><span class="nv">$FIND_ARGS</span><span class="s2">&quot;</span> <span class="p">|</span> sad <span class="s1">&#x27;&lt;pattern&gt;&#x27;</span> <span class="s1">&#x27;&lt;replacement&gt;&#x27;</span> --pager<span class="o">=</span>&lt;highlighter-of-your-choice&gt;
</code></pre>
            </div>

            <p>or</p>
            <div class="codehilite friendly">
              <pre><span ></span><code ><span class="nb">export</span> <span class="nv">GIT_PAGER</span><span class="o">=</span><span class="s1">&#x27;&lt;highlighter-of-your-choice&gt;&#x27;</span>
find <span class="s2">&quot;</span><span class="nv">$FIND_ARGS</span><span class="s2">&quot;</span> <span class="p">|</span> sad <span class="s1">&#x27;&lt;pattern&gt;&#x27;</span> <span class="s1">&#x27;&lt;replacement&gt;&#x27;</span>
</code></pre>
            </div>

            <p><strong>gotta go fast</strong></p>
            <p>If you wanna go fast.</p>
            <ul>
              <li>
                <p>preview to verify you really want the changes.</p>
              </li>
              <li>
                <p>
                  run with <code>--commit</code>, and redirect
                  <code>stdout</code> to a file or <code>/dev/null</code>
                </p>
              </li>
            </ul>
            <hr />
            <h2 id="requirements">Requirements</h2>
            <p>
              Technically none of these are ‚Äúrequired‚Äù, but they make
              <code>sad</code> so much happier.
            </p>
            <p>
              If you install the things below, <code>sad</code> will
              automatically use them. It‚Äôs progressive enhancement!
            </p>
            <h3 id="commandline-fuzzer">Commandline fuzzer</h3>
            <p>
              <a href="https://github.com/junegunn/fzf"><strong>fzf</strong></a>
            </p>
            <p>
              <code>sad</code> does not come with a UI, it uses
              <code>fzf</code> to perform selection.
            </p>
            <h3 id="diff-colorizer">Diff Colorizer</h3>
            <p>
              Any <code>git</code> compatible colourizer would work. I prefer
              these two:
            </p>
            <p>
              <a href="https://github.com/dandavison/delta"
                ><strong>delta</strong></a
              >
            </p>
            <p>
              <code
                >fd &lt;files&gt; | sad &lt;pattern&gt; &lt;replacement&gt; |
                delta</code
              >
            </p>
            <p>
              <a href="https://github.com/so-fancy/diff-so-fancy"
                ><strong>diff-so-fancy</strong></a
              >
            </p>
            <p>
              <code
                >fd &lt;files&gt; | sad &lt;pattern&gt; &lt;replacement&gt; |
                diff-so-fancy | less</code
              >
            </p>
            <h2 id="environmental-variables">Environmental Variables</h2>
            <table>
              <thead>
                <tr>
                  <th>Name</th>
                  <th>Function</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td><code>GIT_PAGER</code></td>
                  <td>
                    <code>sad</code> will use the same pager as <code>git</code>
                  </td>
                </tr>
              </tbody>
            </table>
            <h2 id="flags">Flags</h2>
            <table>
              <thead>
                <tr>
                  <th>Name</th>
                  <th>Function</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td><code>-f</code> <code>--flags</code></td>
                  <td>Regex flags, see below</td>
                </tr>
                <tr>
                  <td><code>-k</code> <code>--commit</code></td>
                  <td>No preview, write changes to file</td>
                </tr>
                <tr>
                  <td><code>-0</code> <code>--read0</code></td>
                  <td>Use <code>\x00</code> as stdin delimiter</td>
                </tr>
                <tr>
                  <td><code>-e</code> <code>--exact</code></td>
                  <td>String literal mode</td>
                </tr>
                <tr>
                  <td><code>-p</code> <code>--pager</code></td>
                  <td>Colourizing program, disable = <code>never</code></td>
                </tr>
                <tr>
                  <td><code>--fzf</code></td>
                  <td>Additional Fzf options, disable = <code>never</code></td>
                </tr>
                <tr>
                  <td><code>-u</code> <code>--unified</code></td>
                  <td>Same as in GNU <code>diff</code>, affects hunk size</td>
                </tr>
              </tbody>
            </table>
            <h2 id="regex-flags">Regex Flags</h2>
            <p>
              By default, <code>sad</code> uses smartcase, and multiline
              matching.
            </p>
            <p>
              For each options, lowercase toggles on and uppercase toggles off.
            </p>
            <p>ie. <code>i</code> =&gt; on, <code>I</code> =&gt; off</p>
            <table>
              <thead>
                <tr>
                  <th>Name</th>
                  <th>Function</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td><code>i</code></td>
                  <td>
                    case insensitive (works for <code>--exact</code> mode as
                    well)
                  </td>
                </tr>
                <tr>
                  <td><code>m</code></td>
                  <td>
                    multiline: <code>^</code> <code>$</code> match each line
                  </td>
                </tr>
                <tr>
                  <td><code>s</code></td>
                  <td>allow <code>.</code> match <code>\n</code></td>
                </tr>
                <tr>
                  <td><code>u</code></td>
                  <td>
                    swap the meaning of <code>*</code> and
                    <code>*?</code> patterns, (normally <code>*</code> is lazy
                    and <code>*?</code> is greedy)
                  </td>
                </tr>
                <tr>
                  <td><code>x</code></td>
                  <td>ignore whitespace and allow <code>#</code> comments</td>
                </tr>
              </tbody>
            </table>
            <h2 id="exit-codes">Exit Codes</h2>
            <table>
              <thead>
                <tr>
                  <th>Code</th>
                  <th>Meaning</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td><code>0</code></td>
                  <td>Good</td>
                </tr>
                <tr>
                  <td><code>1</code></td>
                  <td>Bad</td>
                </tr>
                <tr>
                  <td><code>130</code></td>
                  <td>
                    Interrupted (ie. user cancel), or if using <code>fzf</code>,
                    <a href="https://github.com/ms-jpq/sad/issues/5"
                      >it will always exit <code>130</code></a
                    >.
                  </td>
                </tr>
              </tbody>
            </table>
            <h2 id="get-sad-now">GET SAD NOW!</h2>
            <p>For scripting, use the following format:</p>
            <div class="codehilite friendly">
              <pre><span ></span><code ><span class="c1"># replace `x86_64-unknown-linux-gnu.deb` with your desired package</span>
wget <span class="s1">&#x27;https://github.com/ms-jpq/sad/releases/latest/download/x86_64-unknown-linux-gnu.deb&#x27;</span>
</code></pre>
            </div>

            <h3 id="homebrew">Homebrew:</h3>
            <p><code>brew install ms-jpq/sad/sad</code></p>
            <h3 id="snap-store">Snap Store:</h3>
            <p>coming soon‚Ä¶</p>
            <h3 id="distribution-packages">Distribution packages:</h3>
            <h5 id="debianubuntu">Debian/Ubuntu:</h5>
            <p>
              You can download <code>sad</code> deb packages from the
              <a href="https://github.com/ms-jpq/sad/releases/latest"
                >github release page</a
              >.
            </p>
            <h5 id="arch-linux">Arch Linux:</h5>
            <p>
              There is an official Arch Linux package that can be installed via
              <code>pacman</code>:
            </p>
            <div class="codehilite friendly">
              <pre><span ></span><code >pacman -Syu sad
</code></pre>
            </div>

            <h5 id="other">Other:</h5>
            <p>
              Missing a package for your favourite distribution? Let us know!
            </p>
            <h3 id="compile-from-source">Compile from source:</h3>
            <h5 id="requirements_1">Requirements:</h5>
            <p>
              To compile sad yourself you‚Äôll have to make sure you have<br />
              <a href="https://www.rust-lang.org/">Rust</a> and
              <code>cargo</code> installed.
            </p>
            <h5 id="install-instructions">Install instructions:</h5>
            <p>
              To install cargo from source you can run the following commands:
            </p>
            <div class="codehilite friendly">
              <pre><span ></span><code >cargo install --locked --all-features <span class="se">\</span>
  --git https://github.com/ms-jpq/sad --branch senpai
</code></pre>
            </div>

            <p>
              If you want to install it in a specific directory you can provide
              the <code>--root</code><br />
              flag, like so:
            </p>
            <div class="codehilite friendly">
              <pre><span ></span><code >cargo install --locked --all-features --root<span class="o">=</span><span class="s2">&quot;/usr/bin/&quot;</span> <span class="se">\</span>
  --git https://github.com/ms-jpq/sad --branch senpai
</code></pre>
            </div>

            <h2 id="what-about-stdin-stdout">What about stdin -&gt; stdout</h2>
            <p>
              If you just want to edit the shell stream, I would recommend
              <a href="https://github.com/chmln/sd"><code>sd</code></a
              >, it uses the same concept, but its more for in stream edits.
              <code>sad</code> was inspired by my initial usage of
              <code>sd</code>.
            </p>
            <div class="codehilite friendly">
              <pre><span ></span><code >command1 <span class="p">|</span> sd <span class="s1">&#x27;&lt;pattern&gt;&#x27;</span> <span class="s1">&#x27;&lt;replacement&gt;&#x27;</span> <span class="p">|</span> command2
</code></pre>
            </div>

            <p>
              <a href="https://github.com/BurntSushi/ripgrep"
                ><code>ripgrep</code></a
              >
              with <code>--replace</code> also works
            </p>
            <div class="codehilite friendly">
              <pre><span ></span><code >command1 <span class="p">|</span> rg --passthru --replace <span class="s1">&#x27;&lt;replacement&gt;&#x27;</span> -- <span class="s1">&#x27;&lt;pattern&gt;&#x27;</span> <span class="p">|</span> command2
</code></pre>
            </div>

            <p>
              Take note however, <code>rg</code> will <code>exit 1</code>, it it
              finds no matches.
            </p>
            <h2 id="thank-yous">Thank yous</h2>
            <p>
              Special thanks to
              <a href="https://github.com/MadeOfMagicAndWires"
                >MadeOfMagicAndWires</a
              >
              for their generous contribution for maintaining the AUR package.
            </p>
            <h2 id="bugs">Bugs</h2>
            <p>Please file an issue if you see one <code>&lt;3</code></p>
          </article>
        </section>

        <section class="grid grid-flow-col justify-end items-center gap-x-4">
          <div>
            <i class="fas fa-baby text-left"></i>
            <time datetime="2020-05-09T01:04:12+0000"></time>
          </div>
          <div>
            <i class="fas fa-user-edit text-left"></i>
            <time datetime="2022-11-17T16:18:57+0000"></time>
          </div>
        </section>
      </div>
    </main>

    <footer class="grid justify-items-center items-center">
      <div class="markdown">
        <a href="https://github.com/ms-jpq">
          <span>¬©</span>
          2022
          <span>ms-jpq</span>
        </a>
      </div>
    </footer>
  </body>
</html>
